<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>发药</title>

    <!-- Main css -->
    <link rel="stylesheet" href="../css_js/regist/css/style.css">
    <link rel="stylesheet" href="../css_js/doc/tabpagecss/bootstrap.css" type="text/css">

    <!-- JS -->
    <script src="../css_js/regist/js/jquery.min.js"></script>
    <script src="../css_js/regist/js/main.js"></script>
    <script src="../css_js/doc/tabpagecss/bootstrap.js"></script>
</head>
<body>

<div class="main">
    <div class="container">
        <div class="signup-content">
            <div class="signup-form">

                <form method="POST" class="drug-form" id="drug-form">
                    <h7>待发药品查询：</h7>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="id">病历号 :</label>
                            <input type="text" name="id" id="id" required/>
                        </div>
                        <div class="form-group">
                            <div class="form-submit">
                                <input type="button" value="查询" class="submit" name="check" id="check" />
                            </div>
                        </div>
                    </div><br>

                    <h7>药品信息</h7>
                    <div class="ibox-content" style="margin-left: 20px">
                        <div class="table-responsive">
                            <table class="table table-hover" id="prescDetail">
                                <thead>
                                <tr>
                                    <th><input type="checkbox" name="selectAll" style="width: 30px"></th>
                                    <th>药品名称</th>
                                    <th>单价</th>
                                    <th>数量</th>
                                    <th>缴费状态</th>
                                    <th>开立医生</th>
                                    <th>处方名称</th>
                                    <th>开立时间</th>
                                </tr>
                                </thead>
                                <tbody>
                                <td><input type="checkbox" name="choice" style="width: 30px"></td>
                                <td>头孢</td>
                                <td>12</td>
                                <td>3</td>
                                <td>已缴</td>
                                <td>扁鹊</td>
                                <td>感冒</td>
                                <td>2020/7/16</td>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="form-submit" id = "submitForm">
                        <input type="button" value="发药" class="submit" name="submit" id="submit" />
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    var
        form = $('#drug-form'),
        choices = form.find('[name=choice]'),
        selectAll = form.find('[name=selectAll]');

    // 重置初始化状态：
    form.find('*').show().off();
    form.find(':checkbox').prop('checked', false).off();
    // 拦截form提交事件
    form.off().submit(function(e){
        e.preventDefault();
        alert(form.serialize());
    })

    function setAll() {
        if(selectAll.prop('checked')) {
            choices.prop('checked', true);
        } else {
            choices.prop('checked', false);
        }
    }

    selectAll.change(setAll);

</script>


<script>
    var submit = $('#submit');
    submit.click(function () {
        alert("发药成功！")
    })
</script>




</body>
</html>